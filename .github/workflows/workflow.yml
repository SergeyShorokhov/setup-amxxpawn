name: Main Workflow

on: [push]

jobs:
  run:
    name: Run action
    runs-on: ${{ matrix.operating-systems }}
    strategy:
      matrix:
        operating-systems: [ubuntu-latest, windows-latest, macos-latest]

    steps:
    - uses: actions/checkout@v2
    
    - name: Setup AMXXPawn Compiler
      uses: wopox1337/setup-amxxpawn@master
      with:
        version: "1.10.x"
      
      # For some reason, mac compiler doesn't use the include directory in which the compiler is in
    - name: Verify compiler
      run: |
        which amxxpc
        echo $includePath
        spcomp -i$includePath __tests__/compile.sma
